var axios = require('axios');
var ps = require('xml2js').parseString;
var strob = require('stringify-object');
var striptags = require('striptags');

exports.getSub = function(sub) {
	return axios('http://www.reddit.com/r/'+sub+'/.rss');
}

exports.parseSub = function(feed) {
	return psxml(feed.data);
}

async function psxml(xml) {
	return new Promise((resolve,reject)=>{
		ps(xml,function(err,json){
			if(err)
				reject(err);
			else
				resolve(json.feed.entry);
		});
	});
}
